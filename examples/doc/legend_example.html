<!DOCTYPE html>

<html>
<head>
  <title>C3 Legends</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="butterfly_example.html">
                  butterfly_example.ts
                </a>
              
                
                <a class="source" href="dark_example.html">
                  dark_example.ts
                </a>
              
                
                <a class="source" href="flamechart_example.html">
                  flamechart_example.ts
                </a>
              
                
                <a class="source" href="icicle_sunburst_example.html">
                  icicle_sunburst_example.ts
                </a>
              
                
                <a class="source" href="legend_example.html">
                  legend_example.ts
                </a>
              
                
                <a class="source" href="pie_example.html">
                  pie_example.ts
                </a>
              
                
                <a class="source" href="plot_area_example.html">
                  plot_area_example.ts
                </a>
              
                
                <a class="source" href="plot_zoom_example.html">
                  plot_zoom_example.ts
                </a>
              
                
                <a class="source" href="region_example.html">
                  region_example.ts
                </a>
              
                
                <a class="source" href="sankey_example.html">
                  sankey_example.ts
                </a>
              
                
                <a class="source" href="scatterplot_example.html">
                  scatterplot_example.ts
                </a>
              
                
                <a class="source" href="stack_example.html">
                  stack_example.ts
                </a>
              
                
                <a class="source" href="swimlanes_example.html">
                  swimlanes_example.ts
                </a>
              
                
                <a class="source" href="sync_example.html">
                  sync_example.ts
                </a>
              
                
                <a class="source" href="table_searchable_example.html">
                  table_searchable_example.ts
                </a>
              
                
                <a class="source" href="table_selectable_example.html">
                  table_selectable_example.ts
                </a>
              
                
                <a class="source" href="table_sortable_example.html">
                  table_sortable_example.ts
                </a>
              
                
                <a class="source" href="timeline_example.html">
                  timeline_example.ts
                </a>
              
                
                <a class="source" href="worldbank_example.html">
                  worldbank_example.ts
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="c3-legends">C3 Legends</h1>
<p><em>Demonstrate how to use C3 Legends</em></p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="default-legend">Default Legend</h2>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Create a very simple example legend demonstrating the default accessors.
This data set is an array of strings which are displayed as legend items.
Elements which are arrays themselves are treated as nested items.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> legend = <span class="hljs-keyword">new</span> c3.Legend();
legend.render({</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Dynamically add elements to the DOM</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    anchor: $(<span class="hljs-string">&#x27;&lt;div&gt;&lt;/div&gt;&#x27;</span>).css(<span class="hljs-string">&#x27;display&#x27;</span>, <span class="hljs-string">&#x27;inline-block&#x27;</span>).appendTo($(<span class="hljs-string">&#x27;#legend_examples&#x27;</span>))[<span class="hljs-number">0</span>],
    data: [
        <span class="hljs-string">&quot;Apples&quot;</span>,
        <span class="hljs-string">&quot;Oranges&quot;</span>,
        [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>],
        <span class="hljs-string">&quot;Really long item name&quot;</span>,
        <span class="hljs-string">&quot;Spam&quot;</span>
    ],
    width: <span class="hljs-number">150</span>,
});</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <h2 id="legend">Legend</h2>

            </div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>This example legend uses user-defined objects for the data elements and defines
an <code>item_options.text</code> accessor function to describe how to display the items.
It also defines a custom <code>nest</code> callback to describe how to get arrays of nested items.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> legend2 = <span class="hljs-keyword">new</span> c3.Legend&lt;{ name: <span class="hljs-built_in">string</span>, types: <span class="hljs-built_in">string</span>[] }, <span class="hljs-built_in">string</span>&gt;({
    anchor: $(<span class="hljs-string">&#x27;&lt;div&gt;&lt;/div&gt;&#x27;</span>).css(<span class="hljs-string">&#x27;display&#x27;</span>, <span class="hljs-string">&#x27;inline-block&#x27;</span>).appendTo($(<span class="hljs-string">&#x27;#legend_examples&#x27;</span>))[<span class="hljs-number">0</span>],
    width: <span class="hljs-number">150</span>,
    data: [
        {
            name: <span class="hljs-string">&quot;Fruit&quot;</span>,
            types: [<span class="hljs-string">&quot;Apples&quot;</span>, <span class="hljs-string">&quot;Oranges&quot;</span>],
        }, {
            name: <span class="hljs-string">&quot;Minerals&quot;</span>,
            types: [<span class="hljs-string">&quot;Gold&quot;</span>, <span class="hljs-string">&quot;Sulfur&quot;</span>],
        },
    ],
    nest: <span class="hljs-function">(<span class="hljs-params">d</span>) =&gt;</span> d.types,
    item_options: { text: <span class="hljs-function">(<span class="hljs-params">d</span>) =&gt;</span> d.name },
    nested_item_options: { text: <span class="hljs-function">(<span class="hljs-params">d</span>) =&gt;</span> d },
    bullet_options: <span class="hljs-literal">false</span>,
});
legend2.render();</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <h2 id="legend">Legend</h2>

            </div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>This example uses an <code>item_option</code> accessor to define each data item to directly
specify itâ€™s own options object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> legend3 = <span class="hljs-keyword">new</span> c3.Legend&lt;{ options: c3.Selection.Options&lt;<span class="hljs-built_in">any</span>&gt; }, <span class="hljs-built_in">void</span>&gt;({
    anchor: $(<span class="hljs-string">&#x27;&lt;div&gt;&lt;/div&gt;&#x27;</span>).css(<span class="hljs-string">&#x27;display&#x27;</span>, <span class="hljs-string">&#x27;inline-block&#x27;</span>).appendTo($(<span class="hljs-string">&#x27;#legend_examples&#x27;</span>))[<span class="hljs-number">0</span>],
    width: <span class="hljs-number">150</span>,
    data: [
        {
            options: {
                text: <span class="hljs-string">&quot;Red&quot;</span>,
                styles: { color: <span class="hljs-string">&#x27;red&#x27;</span> },
            },
        },
        {
            options: {
                text: <span class="hljs-string">&quot;Blue&quot;</span>,
                styles: { color: <span class="hljs-string">&#x27;skyblue&#x27;</span> },
            },
        },
    ],
    item_option: <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.options,
}).render();</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h2 id="chart-plot-legend">Chart Plot Legend</h2>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>A function to generate random data series for the line graphs that jiggle but stay in bounds.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generate_random_legend_data</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> seed = <span class="hljs-number">5</span> + <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">5</span>;
    <span class="hljs-keyword">var</span> data = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
        seed += <span class="hljs-built_in">Math</span>.random() - <span class="hljs-number">0.5</span>
        <span class="hljs-keyword">if</span> (seed &lt; <span class="hljs-number">0</span>) seed = <span class="hljs-built_in">Math</span>.random()
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (seed &gt; <span class="hljs-number">10</span>) seed = <span class="hljs-number">10</span> - <span class="hljs-built_in">Math</span>.random()
        data.push(seed);
    }
    <span class="hljs-keyword">return</span> data;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Generate random bar chart data</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> bar_data = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i += <span class="hljs-number">4</span>)
    bar_data.push([<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>, <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>, <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>]);</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Create a chart with various layers for demonstration purposes.
We will then link a <code>plot_legend</code> to this chart.
Notice how the <code>name</code> properties of each layer and stack is used in the legend.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> plot = <span class="hljs-keyword">new</span> c3.Plot();
<span class="hljs-keyword">var</span> bar_layer: c3.Plot.Layer.Bar&lt;<span class="hljs-built_in">number</span>&gt;;
plot.render({
    anchor: $(<span class="hljs-string">&#x27;&lt;div&gt;&lt;/div&gt;&#x27;</span>).appendTo($(<span class="hljs-string">&#x27;#plot_legend_example&#x27;</span>))[<span class="hljs-number">0</span>],
    anchor_styles: { <span class="hljs-string">&#x27;display&#x27;</span>: <span class="hljs-string">&#x27;inline-block&#x27;</span> },
    height: <span class="hljs-number">300</span>,
    width: <span class="hljs-string">&#x27;80%&#x27;</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>This chart will treat the value of data elements as the Y value and the
index of the element as the X value.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    h: d3.scale.linear().domain([<span class="hljs-number">0</span>, <span class="hljs-number">100</span>]),
    v: d3.scale.linear().domain([<span class="hljs-number">0</span>, <span class="hljs-number">10</span>]),
    x: <span class="hljs-function">(<span class="hljs-params">d, i</span>) =&gt;</span> i,
    y: <span class="hljs-function">(<span class="hljs-params">d</span>) =&gt;</span> d,</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Add a horizontal axis with grid lines.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    axes: [
        <span class="hljs-keyword">new</span> c3.Axis.X({
            grid: <span class="hljs-literal">true</span>,
        }),
    ],

    layers: [</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Add a stacked bar- chart layer with 3 stacks.  For more explanation on how to use these
layer types please see the <a href="../#stack_example">stacked charts examples</a>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        bar_layer = <span class="hljs-keyword">new</span> c3.Plot.Layer.Bar&lt;<span class="hljs-built_in">number</span>&gt;({
            name: <span class="hljs-string">&quot;Stacked Bar Chart&quot;</span>,
            data: bar_data,
            x: <span class="hljs-function">(<span class="hljs-params">d, i</span>) =&gt;</span> i * <span class="hljs-number">4</span>,
            y: <span class="hljs-function">(<span class="hljs-params">d, i, stack</span>) =&gt;</span> d[stack],
            stacks: [
                { name: <span class="hljs-string">&quot;Blue Stack&quot;</span>, options: { styles: { <span class="hljs-string">&#x27;fill&#x27;</span>: <span class="hljs-string">&#x27;slateblue&#x27;</span> } } },
                { name: <span class="hljs-string">&quot;Orange Stack&quot;</span>, options: { styles: { <span class="hljs-string">&#x27;fill&#x27;</span>: <span class="hljs-string">&#x27;goldenrod&#x27;</span> } } },
                { name: <span class="hljs-string">&quot;Red Stack&quot;</span>, options: { styles: { <span class="hljs-string">&#x27;fill&#x27;</span>: <span class="hljs-string">&#x27;firebrick&#x27;</span> } } },
            ],
        }),</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Create 3 line layers with random data.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">new</span> c3.Plot.Layer.Line({
            name: <span class="hljs-string">&quot;Series 1&quot;</span>,
            data: generate_random_legend_data(),
            options: {
                styles: { <span class="hljs-string">&#x27;stroke&#x27;</span>: <span class="hljs-string">&#x27;red&#x27;</span> },
            },
        }),

        <span class="hljs-keyword">new</span> c3.Plot.Layer.Line({
            name: <span class="hljs-string">&quot;Series 2&quot;</span>,
            data: generate_random_legend_data(),
            options: {
                styles: { <span class="hljs-string">&#x27;stroke&#x27;</span>: <span class="hljs-string">&#x27;blue&#x27;</span> },
            },
        }),

        <span class="hljs-keyword">new</span> c3.Plot.Layer.Line({
            name: <span class="hljs-string">&quot;Series 3&quot;</span>,
            data: generate_random_legend_data(),
            options: {
                styles: { <span class="hljs-string">&#x27;stroke&#x27;</span>: <span class="hljs-string">&#x27;green&#x27;</span> },
            },
        }),</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Create a single dotted horizontal line.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">new</span> c3.Plot.Layer.Line.Horizontal({
            name: <span class="hljs-string">&quot;Horizontal Line&quot;</span>,
            data: [<span class="hljs-number">7</span>],
            line_options: {
                styles: {
                    <span class="hljs-string">&#x27;stroke&#x27;</span>: <span class="hljs-string">&#x27;violet&#x27;</span>,
                    <span class="hljs-string">&#x27;stroke-dasharray&#x27;</span>: <span class="hljs-string">&#x27;5 3&#x27;</span>,
                    <span class="hljs-string">&#x27;opacity&#x27;</span>: <span class="hljs-number">0.75</span>,
                },
            },
            label_options: {
                text: <span class="hljs-string">&quot;Horizontal Line&quot;</span>,
            },
            grab_line_options: {
                events: {
                    <span class="hljs-string">&#x27;click&#x27;</span>: <span class="hljs-function">() =&gt;</span> { alert(<span class="hljs-string">&quot;Click on Horizontal Line&quot;</span>); },
                },
            }
        }),</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Create a layer of 3 vertical lines.
Note how this layer sets the <code>name</code> to false so it is not displayed in the legend.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">new</span> c3.Plot.Layer.Line.Vertical({
            name: <span class="hljs-literal">false</span>,
            data: [<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>, <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>, <span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>],
            draggable: <span class="hljs-literal">true</span>,
            line_options: {
                styles: {
                    <span class="hljs-string">&#x27;stroke&#x27;</span>: <span class="hljs-string">&#x27;darkorange&#x27;</span>,
                    <span class="hljs-string">&#x27;stroke-width&#x27;</span>: <span class="hljs-string">&#x27;1px&#x27;</span>,
                },
            },
            label_options: {
                text: <span class="hljs-function">(<span class="hljs-params">d, i</span>) =&gt;</span> <span class="hljs-string">&quot;Event &quot;</span> + i,
                alignment: <span class="hljs-string">&#x27;top&#x27;</span>,
            },
        }),

        <span class="hljs-keyword">new</span> c3.Plot.Layer.Scatter({
            name: <span class="hljs-string">&quot;The Sun&quot;</span>,
            data: [<span class="hljs-number">7</span>],
            x: <span class="hljs-function">() =&gt;</span> <span class="hljs-number">80</span>,
            r: <span class="hljs-number">10</span>,
            options: {
                styles: { <span class="hljs-string">&#x27;fill&#x27;</span>: <span class="hljs-string">&#x27;gold&#x27;</span> },
            },
            label_options: {
                text: <span class="hljs-string">&quot;sun&quot;</span>,
                styles: {
                    <span class="hljs-string">&#x27;fill&#x27;</span>: <span class="hljs-string">&#x27;black&#x27;</span>,
                    <span class="hljs-string">&#x27;font-size&#x27;</span>: <span class="hljs-string">&#x27;xx-small&#x27;</span>,
                },
            },
        }),
    ],
});</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Now actually create the <code>plot_legend</code> and link it with the chart we just created.
Everything else is automatic, though we could override or extend the behaviour if we wanted to.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> plot_legend = <span class="hljs-keyword">new</span> c3.Legend.PlotLegend({
    anchor: $(<span class="hljs-string">&#x27;&lt;div&gt;&lt;/div&gt;&#x27;</span>).appendTo($(<span class="hljs-string">&#x27;#plot_legend_example&#x27;</span>))[<span class="hljs-number">0</span>],
    anchor_styles: {
        <span class="hljs-string">&#x27;display&#x27;</span>: <span class="hljs-string">&#x27;inline-block&#x27;</span>,
        <span class="hljs-string">&#x27;vertical-align&#x27;</span>: <span class="hljs-string">&#x27;top&#x27;</span>,
    },
    width: <span class="hljs-string">&#x27;20%&#x27;</span>,
    plot: plot,
}).render();</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Resize the chart to fit the window</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">window</span>.onresize = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ plot.resize(); }</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h2 id="forms-to-modify-legend-options">Forms to modify legend options</h2>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Invert the layers in the legend</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>$(<span class="hljs-string">&#x27;#invert_layers&#x27;</span>).on(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    (&lt;c3.Legend.PlotLegend&gt;plot_legend).invert_layers = <span class="hljs-built_in">this</span>.checked;
    plot_legend.redraw();
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
